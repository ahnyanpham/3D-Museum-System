-- MUSEUM BENNHARONG DATABASE - SCRIPT PART 2
-- Tables: TICKET, VISIT_HISTORY, USER_ACTIVITY_LOG

-- =====================================================
-- 10. TICKET TABLE
-- =====================================================
CREATE TABLE IF NOT EXISTS TICKET (
    TICKET_ID INTEGER PRIMARY KEY,
    TICKET_CODE TEXT UNIQUE NOT NULL,
    TICKET_TYPE_ID INTEGER,
    CUSTOMER_ID INTEGER,
    QUANTITY INTEGER DEFAULT 1,
    TOTAL_PRICE REAL,
    VALID_DATE TEXT,
    PURCHASE_DATE TEXT,
    STATUS TEXT DEFAULT 'valid',
    PAYMENT_METHOD TEXT,
    NOTES TEXT,
    CREATED_AT TEXT DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (TICKET_TYPE_ID) REFERENCES TICKET_TYPE(TICKET_TYPE_ID),
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID)
);

INSERT INTO TICKET VALUES
(1, 'MT2512164E71', 4, 3, 1, 25000, '2025-12-17', '2025-12-16 09:40:12', 'used', 'Tiền mặt', NULL, '2025-12-16 09:40:12', '2025-12-17 09:59:32'),
(2, 'MT251216A0D3', 4, 3, 1, 25000, '2025-12-17', '2025-12-16 09:40:12', 'used', 'Tiền mặt', NULL, '2025-12-16 09:40:12', '2025-12-18 04:46:05'),
(3, 'MT251216CC58', 3, 5, 2, 60000, '2025-12-17', '2025-12-16 09:44:36', 'used', 'Tiền mặt', NULL, '2025-12-16 09:44:36', '2025-12-17 10:20:19'),
(4, 'MT25121678A6', 2, 1, 3, 120000, '2025-12-17', '2025-12-16 09:46:57', 'used', 'Tiền mặt', NULL, '2025-12-16 09:46:57', '2025-12-18 04:46:04'),
(5, 'MT251216FEE6', 2, 1, 3, 120000, '2025-12-17', '2025-12-16 09:46:57', 'used', 'Tiền mặt', NULL, '2025-12-16 09:46:57', '2025-12-18 04:46:05'),
(6, 'MT251216A5E6', 1, 2, 3, 60000, '2025-12-17', '2025-12-16 09:51:15', 'used', 'Tiền mặt', NULL, '2025-12-16 09:51:15', '2025-12-17 10:20:18'),
(7, 'MT2512169838', 2, 4, 1, 15000, '2025-12-17', '2025-12-16 09:56:17', 'used', 'Tiền mặt', NULL, '2025-12-16 09:56:17', '2025-12-17 10:20:17'),
(8, 'MT251216789A', 2, 4, 1, 15000, '2025-12-17', '2025-12-16 09:56:17', 'used', 'Tiền mặt', NULL, '2025-12-16 09:56:17', '2025-12-18 04:46:04'),
(9, 'MT251216D7EA', 4, 2, 1, 20000, '2025-12-17', '2025-12-16 09:57:16', 'used', 'Chuyển khoản', NULL, '2025-12-16 09:57:16', '2025-12-17 10:20:09'),
(10, 'MT2512160BB2', 4, 2, 1, 20000, '2025-12-17', '2025-12-16 09:57:16', 'used', 'Chuyển khoản', NULL, '2025-12-16 09:57:16', '2025-12-18 04:46:04'),
(11, 'MT251216CF51', 4, 2, 1, 20000, '2025-12-17', '2025-12-16 09:57:16', 'used', 'Chuyển khoản', NULL, '2025-12-16 09:57:16', '2025-12-18 02:15:13'),
(12, 'MT251216FA9B', 2, 4, 2, 30000, '2025-12-17', '2025-12-16 10:28:31', 'used', 'Tiền mặt', NULL, '2025-12-16 10:28:31', '2025-12-17 10:20:15'),
(13, 'MT251216C1F1', 2, 2, 1, 20000, '2025-12-17', '2025-12-16 10:29:18', 'used', 'Chuyển khoản', NULL, '2025-12-16 10:29:18', '2025-12-18 04:46:03'),
(14, 'MT251217B7D4', 6, 3, 1, 25000, '2025-12-18', '2025-12-17 04:16:00', 'used', 'Chuyển khoản', NULL, '2025-12-17 04:16:00', '2025-12-17 10:20:11'),
(15, 'MT2512177196', 6, 3, 1, 25000, '2025-12-18', '2025-12-17 04:16:00', 'used', 'Chuyển khoản', NULL, '2025-12-17 04:16:00', '2025-12-17 10:20:14'),
(16, 'MT251217F24E', 5, 1, 1, 40000, '2025-12-18', '2025-12-17 04:20:49', 'used', 'Chuyển khoản', NULL, '2025-12-17 04:20:49', '2025-12-18 04:46:03'),
(17, 'MT25121751D2', 5, 1, 1, 40000, '2025-12-18', '2025-12-17 04:20:49', 'used', 'Chuyển khoản', NULL, '2025-12-17 04:20:49', '2025-12-17 10:20:13'),
(18, 'MT25121781D8', 5, 4, 1, 15000, '2025-12-18', '2025-12-17 04:24:04', 'used', 'Tiền mặt', NULL, '2025-12-17 04:24:04', '2025-12-17 05:21:58'),
(19, 'MT251217BD74', 5, 4, 1, 15000, '2025-12-18', '2025-12-17 04:24:04', 'used', 'Tiền mặt', NULL, '2025-12-17 04:24:04', '2025-12-17 10:08:56'),
(20, 'MT251217AC69', 5, 4, 1, 15000, '2025-12-18', '2025-12-17 04:24:04', 'used', 'Tiền mặt', NULL, '2025-12-17 04:24:04', '2025-12-17 09:59:17'),
(21, 'MT2512179FD1', 4, 2, 1, 20000, '2025-12-18', '2025-12-17 04:27:34', 'used', 'Tiền mặt', NULL, '2025-12-17 04:27:34', '2025-12-17 09:59:05'),
(22, 'MT251217B76A', 4, 2, 1, 20000, '2025-12-18', '2025-12-17 04:28:07', 'used', 'Chuyển khoản', NULL, '2025-12-17 04:28:07', '2025-12-17 10:20:06'),
(23, 'MT2512173923', 4, 3, 1, 25000, '2025-12-18', '2025-12-17 04:28:37', 'used', 'Tiền mặt', NULL, '2025-12-17 04:28:37', '2025-12-17 10:20:04'),
(24, 'MT2512179CDD', 4, 1, 1, 40000, '2025-12-18', '2025-12-17 04:28:55', 'used', 'Tiền mặt', NULL, '2025-12-17 04:28:55', '2025-12-17 10:10:59'),
(25, 'MT251217391E', 4, 5, 1, 30000, '2025-12-18', '2025-12-17 04:29:07', 'used', 'Chuyển khoản', NULL, '2025-12-17 04:29:07', '2025-12-17 05:05:20'),
(26, 'MT25121782F2', 4, 2, 1, 20000, '2025-12-17', '2025-12-17 05:18:54', 'used', 'Chuyển khoản', NULL, '2025-12-17 05:18:54', '2025-12-17 10:10:16'),
(27, 'MT2512172EE3', 7, 3, 1, 25000, '2025-12-17', '2025-12-17 10:29:47', 'used', 'Chuyển khoản', NULL, '2025-12-17 10:29:47', '2025-12-18 04:46:03'),
(28, 'MT251217597F', 7, 3, 1, 25000, '2025-12-17', '2025-12-17 10:30:02', 'used', 'Chuyển khoản', NULL, '2025-12-17 10:30:02', '2025-12-18 04:46:02'),
(29, 'MT251217C2DA', 7, 5, 1, 30000, '2025-12-17', '2025-12-17 10:30:21', 'used', 'Tiền mặt', NULL, '2025-12-17 10:30:21', '2025-12-18 04:46:02'),
(30, 'MT2512173350', 7, 4, 1, 15000, '2025-12-17', '2025-12-17 10:36:53', 'used', 'Tiền mặt', NULL, '2025-12-17 10:36:53', '2025-12-18 04:46:02'),
(31, 'MT251217148B', 7, 2, 1, 20000, '2025-12-17', '2025-12-17 10:37:03', 'used', 'Chuyển khoản', NULL, '2025-12-17 10:37:03', '2025-12-18 04:46:02'),
(32, 'MT2512176D0E', 6, 4, 1, 15000, '2025-12-17', '2025-12-17 10:38:06', 'used', 'Tiền mặt', NULL, '2025-12-17 10:38:06', '2025-12-18 02:15:11'),
(33, 'MT2512178103', 6, 1, 1, 40000, '2025-12-17', '2025-12-17 10:38:16', 'used', 'Chuyển khoản', NULL, '2025-12-17 10:38:16', '2025-12-18 04:46:02'),
(34, 'MT251217ECB1', 7, 4, 1, 15000, '2025-12-17', '2025-12-17 10:39:21', 'used', 'Tiền mặt', NULL, '2025-12-17 10:39:21', '2025-12-18 02:15:11'),
(35, 'MT251217CB12', 7, 2, 1, 20000, '2025-12-17', '2025-12-17 10:39:29', 'used', 'Chuyển khoản', NULL, '2025-12-17 10:39:29', '2025-12-18 04:46:01'),
(36, 'MT2512172EA5', 4, 3, 1, 25000, '2025-12-18', '2025-12-17 12:42:58', 'used', 'Tiền mặt', NULL, '2025-12-17 12:42:58', '2025-12-18 02:15:16'),
(37, 'MT251217376C', 4, 3, 1, 25000, '2025-12-18', '2025-12-17 12:42:58', 'used', 'Tiền mặt', NULL, '2025-12-17 12:42:58', '2025-12-18 02:15:10'),
(38, 'MT2512175E49', 7, 3, 1, 25000, '2025-12-17', '2025-12-17 12:48:11', 'used', 'Tiền mặt', NULL, '2025-12-17 12:48:11', '2025-12-18 02:15:10'),
(39, 'MT2512173947', 7, 2, 1, 20000, '2025-12-17', '2025-12-17 12:48:24', 'used', 'Chuyển khoản', NULL, '2025-12-17 12:48:24', '2025-12-18 04:46:01'),
(40, 'MT2512183EF3', 7, 5, 1, 30000, '2025-12-18', '2025-12-18 00:35:30', 'used', 'Tiền mặt', NULL, '2025-12-18 00:35:30', '2025-12-18 02:15:07'),
(41, 'MT2512181F2D', 7, 2, 1, 20000, '2025-12-18', '2025-12-18 02:09:21', 'used', 'Tiền mặt', NULL, '2025-12-18 02:09:21', '2025-12-18 02:09:49'),
(42, 'MT251218ED2C', 7, 5, 1, 30000, '2025-12-18', '2025-12-18 02:10:16', 'used', 'Chuyển khoản', NULL, '2025-12-18 02:10:16', '2025-12-18 02:15:15'),
(43, 'MT2512187390', 10, 3, 1, 25000, '2025-12-18', '2025-12-18 02:13:28', 'used', 'Chuyển khoản', NULL, '2025-12-18 02:13:28', '2025-12-18 02:15:08'),
(44, 'MT25121812F4', 10, 4, 1, 15000, '2025-12-18', '2025-12-18 02:13:54', 'used', 'Chuyển khoản', NULL, '2025-12-18 02:13:54', '2025-12-18 04:46:01'),
(45, 'MT25121824CF', 10, 2, 1, 20000, '2025-12-18', '2025-12-18 02:24:37', 'used', 'Chuyển khoản', NULL, '2025-12-18 02:24:37', '2025-12-18 04:46:00'),
(46, 'MT2512187D25', 11, 3, 1, 25000, '2025-12-18', '2025-12-18 04:19:28', 'used', 'Chuyển khoản', NULL, '2025-12-18 04:19:28', '2025-12-18 04:19:59'),
(47, 'MT251218EDC9', 12, 1, 1, 40000, '2025-12-18', '2025-12-18 04:38:27', 'used', 'Tiền mặt', NULL, '2025-12-18 04:38:27', '2025-12-18 04:39:00'),
(48, 'MT251218A1B5', 12, 4, 1, 15000, '2025-12-18', '2025-12-18 06:20:39', 'used', 'Chuyển khoản', NULL, '2025-12-18 06:20:39', '2025-12-18 06:21:35'),
(49, 'MT2512180B4F', 6, 3, 1, 25000, '2025-12-18', '2025-12-18 07:14:29', 'used', 'Chuyển khoản', NULL, '2025-12-18 07:14:29', '2025-12-26 09:24:32'),
(50, 'MT2512182123', 14, 4, 1, 15000, '2025-12-18', '2025-12-18 07:15:51', 'used', 'Tiền mặt', NULL, '2025-12-18 07:15:51', '2025-12-26 09:24:32'),
(51, 'MT2512182533', 12, 2, 1, 20000, '2025-12-18', '2025-12-18 09:10:07', 'used', 'Chuyển khoản', NULL, '2025-12-18 09:10:07', '2025-12-18 09:10:39'),
(52, 'MT2512189F20', 14, 3, 1, 25000, '2025-12-18', '2025-12-18 13:49:55', 'used', 'Tiền mặt', NULL, '2025-12-18 13:49:55', '2025-12-22 07:43:11'),
(53, 'MT2512220C9A', 14, 3, 1, 25000, '2025-12-22', '2025-12-22 07:42:58', 'used', 'Chuyển khoản', NULL, '2025-12-22 07:42:58', '2025-12-26 09:24:32'),
(54, 'MT2512231C31', 14, 3, 1, 25000, '2025-12-23', '2025-12-23 03:12:39', 'used', 'Chuyển khoản', NULL, '2025-12-23 03:12:39', '2025-12-26 09:24:31'),
(55, 'MT2512259F93', 12, 5, 10, 300000, '2025-12-25', '2025-12-25 10:42:16', 'used', 'Tiền mặt', NULL, '2025-12-25 10:42:16', '2025-12-25 10:42:28'),
(56, 'MT251225D670', 14, 2, 1, 20000, '2025-12-25', '2025-12-25 11:24:26', 'used', 'Tiền mặt', NULL, '2025-12-25 11:24:26', '2025-12-26 09:24:31'),
(57, 'MT251225E3F5', 15, 3, 1, 25000, '2025-12-25', '2025-12-25 12:26:42', 'used', 'Chuyển khoản', NULL, '2025-12-25 12:26:42', '2025-12-26 09:12:57'),
(58, 'MT251226C6EB', 15, 3, 1, 25000, '2025-12-26', '2025-12-26 11:52:03', 'used', 'Tiền mặt', NULL, '2025-12-26 11:52:03', '2026-01-06 01:38:04');

-- =====================================================
-- 11. VISIT_HISTORY TABLE
-- =====================================================
CREATE TABLE IF NOT EXISTS VISIT_HISTORY (
    HISTORY_ID INTEGER PRIMARY KEY,
    TICKET_ID INTEGER,
    CUSTOMER_ID INTEGER,
    CHECK_IN_TIME TEXT,
    CHECK_OUT_TIME TEXT,
    DURATION_MINUTES INTEGER,
    GUIDE_ID INTEGER,
    RATING INTEGER,
    FEEDBACK TEXT,
    NOTES TEXT,
    CREATED_AT TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (TICKET_ID) REFERENCES TICKET(TICKET_ID),
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(CUSTOMER_ID),
    FOREIGN KEY (GUIDE_ID) REFERENCES USER(USER_ID)
);

INSERT INTO VISIT_HISTORY VALUES
(1, 25, 4, '2025-12-17 12:05:20', '2025-12-17 12:22:08', 16, NULL, 5, 'ok', NULL, '2025-12-17 05:05:20'),
(2, 25, 4, '2025-12-17 12:05:20', '2025-12-17 12:05:34', 0, NULL, 5, 'ok', NULL, '2025-12-17 05:05:20'),
(3, 18, 5, '2025-12-17 12:21:58', '2025-12-17 13:13:54', 51, NULL, 4, 'thanks', NULL, '2025-12-17 05:21:58'),
(4, 21, 4, '2025-12-17 16:59:05', '2025-12-17 17:09:36', 10, NULL, 5, NULL, NULL, '2025-12-17 09:59:05'),
(5, 21, 4, '2025-12-17 16:59:05', '2025-12-17 17:09:06', 10, 3, 1, NULL, NULL, '2025-12-17 09:59:05'),
(6, 20, 5, '2025-12-17 16:59:17', '2025-12-17 17:09:33', 10, NULL, 4, NULL, NULL, '2025-12-17 09:59:17'),
(7, 1, 4, '2025-12-17 16:59:32', '2025-12-17 17:09:30', 9, NULL, 5, NULL, NULL, '2025-12-17 09:59:32'),
(8, 19, 5, '2025-12-17 17:08:56', '2025-12-17 17:09:15', 0, NULL, 5, '5*', NULL, '2025-12-17 10:08:56'),
(9, 26, 4, '2025-12-17 17:10:16', '2025-12-17 17:10:28', 0, NULL, 5, NULL, NULL, '2025-12-17 10:10:16'),
(10, 24, 4, '2025-12-17 17:10:59', '2025-12-26 16:24:52', 12913, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-17 10:10:59'),
(11, 23, 4, '2025-12-17 17:20:04', '2025-12-26 15:51:46', 12871, NULL, 4, 'Rất tuyệt', NULL, '2025-12-17 10:20:04'),
(12, 22, 4, '2025-12-17 17:20:06', '2025-12-26 15:51:33', 12871, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-17 10:20:06'),
(13, 9, 4, '2025-12-17 17:20:09', '2025-12-26 15:51:31', 12871, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-17 10:20:09'),
(14, 14, 6, '2025-12-17 17:20:11', '2025-12-26 16:25:43', 12905, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-17 10:20:11'),
(15, 17, 5, '2025-12-17 17:20:13', '2025-12-26 16:25:02', 12904, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-17 10:20:13'),
(16, 15, 6, '2025-12-17 17:20:14', '2025-12-26 16:25:41', 12905, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-17 10:20:14'),
(17, 12, 2, '2025-12-17 17:20:15', '2025-12-26 16:24:39', 12904, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-17 10:20:15'),
(18, 7, 2, '2025-12-17 17:20:17', '2025-12-26 15:51:23', 12871, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-17 10:20:17'),
(19, 6, 1, '2025-12-17 17:20:18', '2025-12-18 08:20:55', 900, NULL, 5, 'ok', NULL, '2025-12-17 10:20:18'),
(20, 3, 3, '2025-12-17 17:20:19', '2025-12-26 16:24:44', 12904, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-17 10:20:19'),
(21, 41, 7, '2025-12-18 09:09:49', '2025-12-26 16:25:27', 11955, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-18 02:09:49'),
(22, 40, 7, '2025-12-18 09:15:07', '2025-12-26 16:25:25', 11950, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-18 02:15:07'),
(23, 43, 10, '2025-12-18 09:15:08', '2025-12-26 16:25:29', 11950, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 02:15:08'),
(24, 38, 7, '2025-12-18 09:15:10', '2025-12-26 16:25:20', 11950, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 02:15:10'),
(25, 37, 4, '2025-12-18 09:15:10', '2025-12-26 16:24:50', 11949, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-18 02:15:10'),
(26, 34, 7, '2025-12-18 09:15:11', '2025-12-26 16:25:23', 11950, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 02:15:11'),
(27, 32, 6, '2025-12-18 09:15:11', '2025-12-26 16:25:39', 11950, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 02:15:11'),
(28, 11, 4, '2025-12-18 09:15:13', '2025-12-26 16:24:46', 11949, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-18 02:15:13'),
(29, 42, 7, '2025-12-18 09:15:15', '2025-12-26 16:25:18', 11950, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 02:15:15'),
(30, 36, 4, '2025-12-18 09:15:16', '2025-12-26 15:51:28', 11916, NULL, NULL, 'Rất không hài lòng. Cần cải thiện nhiều về chất lượng dịch vụ và cơ sở vật chất.', '1', '2025-12-18 02:15:16'),
(31, 46, 11, '2025-12-18 11:19:59', '2025-12-18 11:41:15', 21, NULL, 5, 'Rất tuyệt vời', NULL, '2025-12-18 04:19:59'),
(32, 47, 12, '2025-12-18 11:39:00', '2025-12-18 11:41:40', 2, NULL, 4, NULL, NULL, '2025-12-18 04:39:00'),
(33, 45, 10, '2025-12-18 11:46:00', '2025-12-26 16:25:33', 11799, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:00'),
(34, 44, 10, '2025-12-18 11:46:01', '2025-12-26 16:25:31', 11799, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-18 04:46:01'),
(35, 39, 7, '2025-12-18 11:46:01', '2025-12-26 16:25:16', 11799, NULL, NULL, 'Trải nghiệm ổn, có thể cải thiện thêm về cơ sở vật chất và dịch vụ hỗ trợ.', '3', '2025-12-18 04:46:01'),
(36, 35, 7, '2025-12-18 11:46:01', '2025-12-26 16:25:14', 11799, NULL, NULL, 'Rất không hài lòng. Cần cải thiện nhiều về chất lượng dịch vụ và cơ sở vật chất.', '1', '2025-12-18 04:46:01'),
(37, 33, 6, '2025-12-18 11:46:02', '2025-12-26 16:24:57', 11798, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:02'),
(38, 31, 7, '2025-12-18 11:46:02', '2025-12-26 16:25:12', 11799, NULL, NULL, 'Rất không hài lòng. Cần cải thiện nhiều về chất lượng dịch vụ và cơ sở vật chất.', '1', '2025-12-18 04:46:02'),
(39, 30, 7, '2025-12-18 11:46:02', '2025-12-26 16:25:10', 11799, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:02'),
(40, 29, 7, '2025-12-18 11:46:02', '2025-12-26 16:25:08', 11799, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:02'),
(41, 28, 7, '2025-12-18 11:46:02', '2025-12-26 16:25:06', 11799, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:02'),
(42, 27, 7, '2025-12-18 11:46:03', '2025-12-25 19:27:16', 10541, NULL, 5, 'tuyệt vời', NULL, '2025-12-18 04:46:03'),
(43, 16, 5, '2025-12-18 11:46:03', '2025-12-26 16:25:00', 11798, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:03'),
(44, 13, 2, '2025-12-18 11:46:03', '2025-12-26 16:24:37', 11798, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:03'),
(45, 10, 4, '2025-12-18 11:46:04', '2025-12-26 16:24:48', 11798, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:04'),
(46, 8, 2, '2025-12-18 11:46:04', '2025-12-26 16:24:35', 11798, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:04'),
(47, 4, 2, '2025-12-18 11:46:04', '2025-12-26 15:51:14', 11765, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:04'),
(48, 5, 2, '2025-12-18 11:46:05', '2025-12-22 14:43:22', 5937, NULL, 5, 'tuyet voi', NULL, '2025-12-18 04:46:05'),
(49, 2, 4, '2025-12-18 11:46:05', '2025-12-26 16:24:42', 11798, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-18 04:46:05'),
(50, 48, 12, '2025-12-18 13:21:35', '2025-12-18 16:11:27', 169, NULL, 5, 'thanks', NULL, '2025-12-18 06:21:35'),
(51, 51, 12, '2025-12-18 16:10:39', '2025-12-22 11:27:19', 5476, NULL, 4, 'Good', NULL, '2025-12-18 09:10:39'),
(52, 52, 14, '2025-12-22 14:43:11', '2025-12-26 16:25:54', 5862, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-22 07:43:11'),
(53, 55, 12, '2025-12-25 17:42:28', '2025-12-26 16:25:36', 1363, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-25 10:42:28'),
(54, 57, 15, '2025-12-26 16:12:57', '2025-12-26 16:13:35', 0, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-26 09:12:57'),
(55, 56, 14, '2025-12-26 16:24:31', '2025-12-26 16:25:51', 1, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-26 09:24:31'),
(56, 54, 14, '2025-12-26 16:24:31', '2025-12-26 16:25:49', 1, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-26 09:24:31'),
(57, 53, 14, '2025-12-26 16:24:32', '2025-12-26 16:25:47', 1, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-26 09:24:32'),
(58, 50, 14, '2025-12-26 16:24:32', '2025-12-26 16:25:45', 1, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-26 09:24:32'),
(59, 49, 6, '2025-12-26 16:24:32', '2025-12-26 16:24:55', 0, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2025-12-26 09:24:32'),
(60, 58, 15, '2026-01-06 08:38:04', '2026-01-06 08:38:12', 0, NULL, NULL, 'Rất hài lòng với dịch vụ và không gian trưng bày. Nhân viên nhiệt tình, tận tâm.', '5', '2026-01-06 01:38:04');

-- =====================================================
-- 12. USER_ACTIVITY_LOG TABLE
-- =====================================================
CREATE TABLE IF NOT EXISTS USER_ACTIVITY_LOG (
    LOG_ID INTEGER PRIMARY KEY,
    USER_ID INTEGER,
    ACTION_TYPE TEXT,
    TARGET_TYPE TEXT,
    TARGET_ID INTEGER,
    DESCRIPTION TEXT,
    IP_ADDRESS TEXT,
    CREATED_AT TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (USER_ID) REFERENCES USER(USER_ID)
);

INSERT INTO USER_ACTIVITY_LOG VALUES
(1, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:07:59'),
(2, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:08:06'),
(3, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:09:02'),
(4, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:12:35'),
(5, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:14:41'),
(6, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:16:42'),
(7, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:18:41'),
(8, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:19:31'),
(9, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:21:18'),
(10, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:21:26'),
(11, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:21:31'),
(12, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-05 10:28:17'),
(13, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:20:47'),
(14, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:27:29'),
(15, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:29:07'),
(16, 1, 'logout', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:29:15'),
(17, 6, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:29:19'),
(18, 6, 'logout', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:30:02'),
(19, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:37:10'),
(20, 1, 'logout', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 01:38:41'),
(21, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 03:19:59'),
(22, 1, 'logout', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 03:22:28'),
(23, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 07:44:13'),
(24, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-06 11:55:56'),
(25, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-07 03:20:03'),
(26, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-07 14:03:02'),
(27, 1, 'login', NULL, NULL, NULL, '127.0.0.1', '2026-01-08 01:41:32');
